import{d as L,r,c as s,a,f as h,t as u,F as I,g as S,b as E,e as C,h as $,v as Z,w as M,u as V,R as U,i as W,j as J,k as K,s as X,o as l,n as T,_ as Y}from"./index-CHcNOb4E.js";const D=[{question:"è«‹å°‡ä¸‹åˆ—äº¤ç­å…§å®¹é …ç›®ï¼Œåˆ†é¡è‡³é©ç•¶çš„æ¬„ä½",items:[{text:"äº¤ç­æ™‚é–“èˆ‡å–®ä½",category:"I",explanation:"åŸºæœ¬äº¤ç­è³‡è¨Šå±¬ I åˆ†é¡"},{text:"ç•°å¸¸æª¢é©—å€¼ / æª¢æŸ¥å ±å‘Šè¿½è¹¤",category:"A",explanation:"æª¢æŸ¥çµæœå±¬æ–¼è©•ä¼°ï¼Œç‚º Aï¼ˆAssessmentï¼‰"},{text:"ç‰¹æ®Šæ„ŸæŸ“èˆ‡éš”é›¢",category:"S",explanation:"ç¾å­˜ç‰¹æ®Šæ„ŸæŸ“ç‚º Sï¼ˆSituationï¼‰"},{text:"å…¶ä»–è¨ˆç•« / é æ’è™•ç½®",category:"R",explanation:"æœªä¾†è™•ç½®åŠè¨ˆç•«ç‚º R é¡"},{text:"ç‰¹æ®Šè£ç½®è¨­å®šï¼ˆå¦‚ ECMO, IABPï¼‰",category:"A",explanation:"ç‰¹æ®Šè£ç½®åˆ†é¡ç‚º A"},{text:"æ²»ç™‚ç¶“é",category:"B",explanation:"æ²»ç™‚éç¨‹ç‚º Background"},{text:"ç¾å­˜ç®¡è·¯",category:"A",explanation:"ç›®å‰æœ‰å“ªäº›ç®¡è·¯å±¬æ–¼ A é¡è©•ä¼°"},{text:"å…¥é™¢è¨ºæ–·",category:"B",explanation:"å…¥é™¢è¨ºæ–·å±¬æ–¼ç—…äººèƒŒæ™¯è³‡æ–™"},{text:"ä»Šæ—¥ç‹€æ³",category:"S",explanation:"ä»Šæ—¥çš„æ•´é«”ç‹€æ³æ­¸ç‚º Sï¼ˆSituationï¼‰"},{text:"å‘¼å¸å™¨è¨­å®šèˆ‡è­¦å ±å€¼",category:"R",explanation:"å‘¼å¸å™¨è¨­å®šå»ºè­°ç‚º Recommendation"},{text:"å‘¼å¸æ²»ç™‚è¨ˆç•« / ç­–ç•¥ / ç›®æ¨™å€¼",category:"R",explanation:"å±¬æ–¼å»ºè­°èˆ‡æ²»ç™‚æ–¹å‘"},{text:"ç¾æ³è©•ä¼°/å‘¼å¸æ²»ç™‚è©•ä¼°",category:"A",explanation:"æ²»ç™‚ç›¸é—œè©•ä¼°æ­¸ç‚º Aï¼ˆAssessmentï¼‰"},{text:"ç—…å²",category:"B",explanation:"æ—¢å¾€ç—…å²å±¬æ–¼ Bï¼ˆBackgroundï¼‰"},{text:"æ„è­˜ç‹€æ³ / ç”Ÿå‘½å¾µè±¡",category:"A",explanation:"ç”Ÿå‘½å¾µè±¡åŠæ„è­˜å±¬æ–¼è©•ä¼°ï¼Œåˆ†é¡ç‚º A"},{text:"ç—…äººåŸºæœ¬è³‡æ–™ï¼ˆå§“å / åºŠè™Ÿ / æ€§åˆ¥ / å¹´é½¡ï¼‰",category:"I",explanation:"äº¤ç­é–‹é ­éœ€ä»‹ç´¹åŸºæœ¬è³‡æ–™ï¼Œå±¬æ–¼ Iï¼ˆIntroductionï¼‰"},{text:"äº¤ç­æé†’äº‹é …",category:"R",explanation:"éœ€æ³¨æ„çš„æé†’äº‹é …å±¬æ–¼å»ºè­°é¡åˆ¥"},{text:"é®éœ / å‡å£“è—¥ç‰©",category:"A",explanation:"è—¥ç‰©ä½¿ç”¨å½±éŸ¿è©•ä¼°çµæœï¼Œç‚º A é¡"},{text:"äº¤ç­è€…èˆ‡æ¥ç­è€…èº«ä»½",category:"I",explanation:"ä»‹ç´¹å½¼æ­¤çš„è§’è‰²ç‚º I é¡åˆ¥"}].map(c=>{var i;return{...c,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})},{question:"48 æ­²ç”·æ€§ï¼Œæ’ç®¡ 3 æ—¥ï¼Œæ­£åœ¨ä½¿ç”¨å‘¼å¸å™¨é€šæ°£ã€‚è«‹å°‡ä»¥ä¸‹äº¤ç­è³‡è¨Šåˆ†é¡è‡³ ISBAR å°æ‡‰æ¬„ä½ï¼š",items:[{text:"GCS E1VEM1",category:"A",explanation:"æ„è­˜è©•ä¼°å±¬æ–¼ Assessment"},{text:"intubated on 6/20, was admitted to RICU under impression of ARDS",category:"B",explanation:"å…¥é™¢è¨ºæ–·ã€å…¥é™¢ç¶“éèˆ‡æ’ç®¡æ—¥ç‚º Background"},{text:"FiO2 0.6, PEEP 10, VT 450, Flow 50, RR 22",category:"R",explanation:"ç›®å‰å‘¼å¸å™¨è¨­å®šå»ºè­°ç‚º Recommendation"},{text:"keep VT< 450ml(6c.c/kg), pHâ‰§7.25, SpO2â‰§88%",category:"R",explanation:"å±¬æ–¼å‘¼å¸å™¨ç›®æ¨™å€¼å»ºè­°"},{text:"äº¤ç­äººï¼šRT å¼µä¸‰ï¼Œæ¥ç­äººï¼šRT æå››",category:"I",explanation:"èº«ä»½ä»‹ç´¹ç‚º Introduction"}].map(c=>{var i;return{...c,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})},{question:"72 æ­²å¥³æ€§ï¼ŒCOPD æƒ¡åŒ–ä½é™¢ç¬¬äº”å¤©ï¼Œä½¿ç”¨BiPAPã€‚è«‹å”åŠ©åˆ†é¡äº¤ç­å…§å®¹ï¼š",items:[{text:"HR 98, BP 142/88, RR 25, SpO2 92% ",category:"A",explanation:"æœ€å¾Œä¸€æ¬¡ç”Ÿå‘½å¾µè±¡åšç‚ºè©•ä¼°åƒè€ƒï¼Œå±¬æ–¼Assessment"},{text:"Hx: COPD, frequent exacerbation, chronic CO2 retention",category:"B",explanation:"ç‚ºç—…å² Background"},{text:"BiPAP ST mode / IPAP 18 / EPAP 8 / Rate 14 / Ti 0.8",category:"R",explanation:"å‘¼å¸å™¨è¨­å®šå±¬ Recommendation"},{text:"å»ºè­°ä¾ABGèª¿æ•´ BiPAP è¨­å®š",category:"R",explanation:"å»ºè­°èˆ‡æ²»ç™‚æ–¹å‘å±¬ Recommendation"},{text:"ç—…äººå§“åï¼šç‹å°ç¾ï¼ŒåºŠè™Ÿï¼š7H-212",category:"I",explanation:"åŸºæœ¬èº«ä»½è³‡æ–™ç‚º Introduction"}].map(c=>{var i;return{...c,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})},{question:"60 æ­²ç”·æ€§, å…¥é™¢æ›è‚è¡“å¾Œä½¿ç”¨å‘¼å¸å™¨ã€‚è«‹åˆ†é¡ä»¥ä¸‹äº¤ç­è³‡è¨Šï¼š",items:[{text:"Weaning Profile test, Pi: -60cmH2O, Pe: +100cmH2O, RSBI:40, cuff leak test Vti:500ml, Vte:123ml/162ml/101ml",category:"A",explanation:"å‘¼å¸è„«é›¢è©•ä¼°å±¬æ–¼ Assessment"},{text:"Hx: alcoholic cirrhosis, 07/11 was admitted to ward for preparation of liver transplant",category:"B",explanation:"ç—…å²å’Œå…¥é™¢ç¶“éç‚º Background"},{text:"FiO2 0.3, PEEP 5, PS 10; Extubation is planned for tomorrow.",category:"R",explanation:"å‘¼å¸è¨­å®šåŠæ²»ç™‚è¨ˆç•«ç‚º Recommendation"},{text:"He returned from the OR 7 hours ago with the ETT in place; he is now awake and has begun respiratory training.",category:"S",explanation:"ç—…äººç¾æ³ç‚º Situation"},{text:"keep weaning",category:"R",explanation:"å‘¼å¸æ²»ç™‚è¨ˆç•«å±¬æ–¼ Recommendation"}].map(c=>{var i;return{...c,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})},{question:"88 æ­²å¥³æ€§ï¼ŒOHCAï¼Œä½é™¢ç¬¬åå¤©ï¼ŒVA ECMOåŠå‘¼å¸å™¨ä½¿ç”¨ä¸­ã€‚è«‹å”åŠ©åˆ†é¡äº¤ç­è³‡è¨Šï¼š",items:[{text:"under VA ECMO support now.",category:"S",explanation:"ç¾æ³å±¬æ–¼ S"},{text:"06/15 OHCA s/p CPCR 15mins with ROSC, due to cardiogenic shock, on VA ECMO support, post cath, transfer to CCU care. ",category:"B",explanation:"å…¥é™¢èˆ‡æ²»ç™‚ç¶“éç‚º Background"},{text:"VA type ECMO FiO2:100%, Gas flow: 1500ml/min, Blood flow: 3.11L/min, Pump speed: 1891RPM",category:"A",explanation:"ç‰¹æ®Šç®¡è·¯èˆ‡è£ç½®ç‚º Assessment"},{text:"Schedule echocardiography tomorrow morning to assess cardiac recovery and readiness for VAâ€‘ECMO weaning.",category:"R",explanation:"å¾ŒçºŒè¨ˆç•«ç‚º Recommendation"},{text:"å§“åï¼šé™³é˜¿ç ï¼ŒåºŠè™Ÿï¼šCCU-10",category:"I",explanation:"ä»‹ç´¹ç—…äººåŸºæœ¬è³‡æ–™ç‚º Introduction"}].map(c=>{var i;return{...c,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})}],ee={class:"game-container"},te={class:"title"},oe={class:"selection-zone"},ae={class:"item-list"},ne=["onClick"],se={class:"drop-zones"},le={class:"zone-label"},ie={class:"drop-content"},re=["onClick"],ce=["onClick"],ue={key:0,class:"button-group"},de={key:1,class:"button-group next-only"},me={key:2,class:"finish-message"},pe={class:"submit-score"},ve=["disabled"],xe={key:3,class:"result-box"},ge={key:0},ye={key:1},fe={key:4,class:"error-message"},he=L({__name:"ClassifyGame",setup(c){const i=t=>["I","S","B","A","R"].includes(t),B=D[0],O=D.slice(1).filter(t=>t.question!==B.question).map(t=>({question:t.question,items:t.items.filter(e=>i(e.category)).map(e=>({...e,category:e.category}))})).sort(()=>Math.random()-.5).slice(0,4),d=r([B,...O]),m=r(0),y=r(d.value[m.value]),f=r([...y.value.items]),p=r(null),x=r({I:[],S:[],B:[],A:[],R:[]}),b=r([]),R=r(!1),A=r(!1),_=r(0),g=r("");function q(t){var e;p.value=((e=p.value)==null?void 0:e.id)===t.id?null:t,g.value=""}function H(t){if(!p.value){g.value="è«‹å…ˆé¸æ“‡ä¸€å€‹é …ç›®å†é»æ“Šåˆ†é¡åŠ è™Ÿï¼";return}x.value[t].push(p.value),f.value=f.value.filter(e=>{var o;return e.id!==((o=p.value)==null?void 0:o.id)}),p.value=null}function F(t,e){const o=x.value[t].findIndex(n=>n.id===e);if(o!==-1){const[n]=x.value[t].splice(o,1);f.value.push(n)}}function N(){if(f.value.length>0){g.value="è«‹å®Œæˆæ‰€æœ‰é …ç›®çš„åˆ†é¡å¾Œå†é€å‡ºç­”æ¡ˆï¼";return}g.value="",b.value=[];let t=!0;for(const[e,o]of Object.entries(x.value))for(const n of o){const v=n.category===e;b.value.push({item:n,correct:v,correctCategory:n.category,explanation:n.explanation}),v||(t=!1)}t&&(_.value+=20),m.value<d.value.length-1?R.value=!0:A.value=!0}function P(){b.value=[],R.value=!1,g.value="",p.value=null,y.value=d.value[m.value],f.value=[...y.value.items],Object.keys(x.value).forEach(t=>x.value[t]=[])}function z(){m.value++,m.value<d.value.length?(y.value=d.value[m.value],P()):A.value=!0}function G(){const t=O.sort(()=>Math.random()-.5).slice(0,4);d.value=[B,...t],m.value=0,y.value=d.value[0],A.value=!1,_.value=0,P()}async function Q(t,e){try{await W(J(K,"classify_scores"),{name:t,score:e,timestamp:X()}),console.log("âœ… åˆ†æ•¸å·²å„²å­˜")}catch(o){console.error("âŒ éŒ¯èª¤:",o)}}const k=r(""),w=r(!1);async function j(){if(!k.value.trim()){alert("è«‹è¼¸å…¥åç¨±ä»¥é€å‡ºæˆç¸¾");return}await Q(k.value.trim(),_.value),w.value=!0}return(t,e)=>(l(),s("div",ee,[a("h2",te,u(y.value.question),1),a("div",oe,[e[1]||(e[1]=a("h3",{class:"subtitle"},"é»é¸äº¤ç­é …ç›®å¾Œï¼Œåœ¨ä¸‹æ–¹åˆ†é¡æ¬„ä½ä¸­é»é¸åŠ å…¥ä»¥é€²è¡Œåˆ†é¡ï¼Œæ¬²æ›´æ”¹æ¬„ä½ï¼Œå†é»é¸ä¸€æ¬¡è©²é …ç›®å³å¯é‡æ–°åŠ å…¥",-1)),a("div",ae,[(l(!0),s(I,null,S(f.value,(o,n)=>(l(),s("button",{key:o.id,class:"selectable-item",onClick:v=>q(o)},u(o.text),9,ne))),128))])]),a("div",se,[(l(!0),s(I,null,S(x.value,(o,n)=>(l(),s("div",{key:n,class:T(["drop-zone",{fullRow:n==="I"}])},[a("h4",le,u(n),1),a("div",ie,[(l(!0),s(I,null,S(o,(v,Ce)=>(l(),s("div",{key:v.id,class:"drop-item",onClick:be=>F(n,v.id)},u(v.text),9,re))),128))]),p.value?(l(),s("button",{key:0,class:"add-button",onClick:v=>H(n)},"â• åŠ å…¥",8,ce)):h("",!0)],2))),128))]),!R.value&&!A.value?(l(),s("div",ue,[a("button",{onClick:N,class:"submit-button"},"é€å‡ºç­”æ¡ˆ"),a("button",{onClick:P,class:"reset-button"},"é‡è©¦")])):h("",!0),R.value&&m.value<d.value.length-1?(l(),s("div",de,[a("button",{onClick:z,class:"submit-button"},"ä¸‹ä¸€é¡Œ")])):h("",!0),A.value?(l(),s("div",me,[e[6]||(e[6]=a("p",null,"ğŸ‰ å…¨éƒ¨é¡Œç›®å®Œæˆï¼",-1)),a("p",null,[e[2]||(e[2]=C("ä½ æœ¬æ¬¡å¾—åˆ†ç‚º ")),a("strong",null,u(_.value),1),e[3]||(e[3]=C(" / 100"))]),a("div",pe,[$(a("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>k.value=o),placeholder:"è«‹è¼¸å…¥ä½ çš„åç¨±",class:"name-input"},null,512),[[Z,k.value]]),a("button",{onClick:j,disabled:w.value,class:"submit-button"},u(w.value?"âœ… å·²é€å‡º":"ğŸ“¤ é€å‡ºæˆç¸¾"),9,ve)]),E(V(U),{to:"/isbar-game/",class:"home-button"},{default:M(()=>e[4]||(e[4]=[C("ğŸ  å›é¦–é ")])),_:1,__:[4]}),E(V(U),{to:"/leaderboard",class:"leaderboard-button"},{default:M(()=>e[5]||(e[5]=[C("ğŸ“Š æŸ¥çœ‹æ’è¡Œæ¦œ")])),_:1,__:[5]}),a("button",{onClick:G,class:"reset-button"},"é‡æ–°é–‹å§‹")])):h("",!0),b.value.length?(l(),s("div",xe,[e[8]||(e[8]=a("h3",null,"çµæœï¼š",-1)),a("ul",null,[(l(!0),s(I,null,S(b.value,(o,n)=>(l(),s("li",{key:n,class:T({correct:o.correct,incorrect:!o.correct})},[a("strong",null,u(o.item.text),1),o.correct?(l(),s("span",ge,"âœ… æ­£ç¢º")):(l(),s("span",ye,[e[7]||(e[7]=C(" âŒ éŒ¯èª¤ï¼Œæ­£ç¢ºç‚º ")),a("strong",null,u(o.correctCategory),1),C("ï¼š"+u(o.explanation),1)]))],2))),128))])])):h("",!0),g.value?(l(),s("div",fe,u(g.value),1)):h("",!0)]))}}),Re=Y(he,[["__scopeId","data-v-7b196aca"]]);export{Re as default};
