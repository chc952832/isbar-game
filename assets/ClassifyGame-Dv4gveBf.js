import{d as $,r,c as s,a as o,f as b,t as c,F as k,g as C,b as U,e as _,h as H,v as Z,w as q,u as O,R as w,i as J,j as K,k as W,s as X,o as l,n as E,_ as Y}from"./index-NGdrfuFg.js";const N=[{question:"è«‹å°‡ä¸‹åˆ—äº¤ç­å…§å®¹é …ç›®ï¼Œåˆ†é¡è‡³é©ç•¶çš„æ¬„ä½",items:[{text:"äº¤ç­æ™‚é–“èˆ‡å–®ä½",category:"I",explanation:"åŸºæœ¬äº¤ç­è³‡è¨Šå±¬ I åˆ†é¡"},{text:"ç•°å¸¸æª¢é©—å€¼ / æª¢æŸ¥å ±å‘Šè¿½è¹¤",category:"A",explanation:"æª¢æŸ¥çµæœå±¬æ–¼è©•ä¼°ï¼Œç‚º Aï¼ˆAssessmentï¼‰"},{text:"æ„ŸæŸ“èˆ‡éš”é›¢",category:"S",explanation:"æ„ŸæŸ“æ§åˆ¶ç›¸é—œç‚º Sï¼ˆSituationï¼‰"},{text:"å…¶ä»–è¨ˆç•« / é æ’è™•ç½®",category:"R",explanation:"æœªä¾†è™•ç½®ç‚º R é¡"},{text:"ç‰¹æ®Šè£ç½®è¨­å®šï¼ˆå¦‚ ECMO, IABPï¼‰",category:"A",explanation:"ç‰¹æ®Šè£ç½®å±¬æ–¼ç›®å‰æ²»ç™‚è¨­å®šï¼Œåˆ†é¡ç‚º A"},{text:"æ²»ç™‚ç¶“é",category:"B",explanation:"æ²»ç™‚éç¨‹ç‚º Background"},{text:"ç¾å­˜ç®¡è·¯",category:"A",explanation:"ç›®å‰æœ‰å“ªäº›ç®¡è·¯å±¬æ–¼ A é¡è©•ä¼°"},{text:"å…¥é™¢è¨ºæ–·",category:"B",explanation:"è¨ºæ–·å±¬æ–¼ç—…äººèƒŒæ™¯è³‡æ–™"},{text:"ä»Šæ—¥ç‹€æ³",category:"S",explanation:"ä»Šæ—¥çš„æ•´é«”ç‹€æ³æ­¸ç‚º Sï¼ˆSituationï¼‰"},{text:"å‘¼å¸å™¨è¨­å®šèˆ‡è­¦å ±å€¼",category:"R",explanation:"è¨­å®šå»ºè­°ç‚º Recommendation"},{text:"å‘¼å¸æ²»ç™‚è¨ˆç•« / ç­–ç•¥ / ç›®æ¨™å€¼",category:"R",explanation:"å±¬æ–¼å»ºè­°èˆ‡æ²»ç™‚æ–¹å‘"},{text:"å‘¼å¸æ²»ç™‚è©•ä¼°",category:"A",explanation:"æ²»ç™‚ç›¸é—œè©•ä¼°æ­¸ç‚º Aï¼ˆAssessmentï¼‰"},{text:"ç—…å²",category:"B",explanation:"æ—¢å¾€ç—…å²å±¬æ–¼ Bï¼ˆBackgroundï¼‰"},{text:"æ„è­˜ç‹€æ³ / ç”Ÿå‘½å¾µè±¡",category:"S",explanation:"ç”Ÿå‘½å¾µè±¡å±¬æ–¼ç•¶å‰ç—…äººæƒ…æ³ï¼Œåˆ†é¡ç‚º S"},{text:"ç—…äººåŸºæœ¬è³‡æ–™ï¼ˆå§“å / åºŠè™Ÿ / æ€§åˆ¥ / å¹´é½¡ï¼‰",category:"I",explanation:"äº¤ç­é–‹é ­éœ€ä»‹ç´¹åŸºæœ¬è³‡æ–™ï¼Œå±¬æ–¼ Iï¼ˆIntroductionï¼‰"},{text:"äº¤ç­æé†’äº‹é …",category:"R",explanation:"éœ€æ³¨æ„çš„æé†’äº‹é …å±¬æ–¼å»ºè­°é¡åˆ¥"},{text:"é®éœ / å‡å£“è—¥ç‰©",category:"A",explanation:"è—¥ç‰©ä½¿ç”¨åæ˜ è©•ä¼°çµæœï¼Œç‚º A é¡"},{text:"äº¤ç­è€…èˆ‡æ¥ç­è€…èº«ä»½",category:"I",explanation:"ä»‹ç´¹å½¼æ­¤çš„è§’è‰²ç‚º I é¡åˆ¥"}].map(u=>{var i;return{...u,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})},{question:"48 æ­²ç”·æ€§ï¼Œæ’ç®¡ 3 æ—¥ï¼Œæ­£åœ¨ä½¿ç”¨å‘¼å¸å™¨å”åŠ©æ›æ°£ã€‚è«‹å°‡ä»¥ä¸‹äº¤ç­è³‡è¨Šåˆ†é¡è‡³ ISBAR å°æ‡‰æ¬„ä½ï¼š",items:[{text:"Vital signs stable, GCS E4VTM6, under sedation.",category:"S",explanation:"ç›®å‰ç‹€æ³æè¿°å±¬ S åˆ†é¡"},{text:"ARDS, intubated on 6/20.",category:"B",explanation:"ç—…å› èˆ‡æ’ç®¡æ—¥ç‚º Background"},{text:"FiO2 0.4, PEEP 8, VT 450, Rate 18, PS 12, RR 22",category:"A",explanation:"ç›®å‰å‘¼å¸å™¨è¨­å®šç‚º Assessment"},{text:"Please monitor spontaneous breathing trial readiness tomorrow.",category:"R",explanation:"å±¬æ–¼æ²»ç™‚å»ºè­°åŠæé†’"},{text:"äº¤ç­äººï¼šRT å¼µä¸‰ï¼Œæ¥ç­äººï¼šRT æå››",category:"I",explanation:"èº«ä»½ä»‹ç´¹ç‚º Introduction"}].map(u=>{var i;return{...u,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})},{question:"72 æ­²å¥³æ€§ï¼ŒCOPD æƒ¡åŒ–ä½é™¢ç¬¬äº”å¤©ï¼Œä½¿ç”¨é¢ç½©å‘¼å¸å™¨ã€‚è«‹å”åŠ©åˆ†é¡äº¤ç­å…§å®¹ï¼š",items:[{text:"HR 98, BP 142/88, RR 25, SpO2 92% on BiPAP",category:"S",explanation:"ç›®å‰ç”Ÿå‘½å¾µè±¡èˆ‡ä½¿ç”¨æ¨¡å¼ç‚º S é¡"},{text:"COPD, frequent exacerbation, chronic CO2 retention",category:"B",explanation:"ç‚ºç—…å² Background"},{text:"BiPAP IPAP 14 / EPAP 6 / Rate 14",category:"A",explanation:"æ²»ç™‚è¨­å®šå±¬ Assessment"},{text:"å»ºè­°ä¾è¡€æ°£èª¿æ•´ BiPAP è¨­å®š",category:"R",explanation:"å»ºè­°èˆ‡æ²»ç™‚æ–¹å‘å±¬ Recommendation"},{text:"ç—…äººå§“åï¼šç‹å°ç¾ï¼ŒåºŠè™Ÿï¼š301-2",category:"I",explanation:"åŸºæœ¬èº«ä»½è³‡æ–™ç‚º Introduction"}].map(u=>{var i;return{...u,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})},{question:"60 æ­²ç”·æ€§ï¼Œæ„ŸæŸ“æ€§ä¼‘å…‹ä½åŠ è­·ç—…æˆ¿ã€‚è«‹åˆ†é¡ä»¥ä¸‹äº¤ç­è³‡è¨Šï¼š",items:[{text:"MAP 68 mmHg, æ­£ä½¿ç”¨å‡å£“åŠ‘èˆ‡é®éœè—¥ç‰©",category:"A",explanation:"è—¥ç‰©ä½¿ç”¨èˆ‡å¾ªç’°ç‹€æ³å±¬æ–¼ Assessment"},{text:"æ„ŸæŸ“æ€§ä¼‘å…‹ 6/15 å…¥é™¢ ICU",category:"B",explanation:"è¨ºæ–·èˆ‡å…¥é™¢æ™‚é–“ç‚º Background"},{text:"FiO2 0.5, PEEP 10, PS 15, RR 24",category:"A",explanation:"å‘¼å¸è¨­å®šç‚º Assessment"},{text:"æ„ŸæŸ“æ§åˆ¶ï¼šæ¥è§¸å‚³æŸ“é˜²è­·ä¸­",category:"S",explanation:"æ„ŸæŸ“èˆ‡éš”é›¢ç‚º Situation"},{text:"å»ºè­°æ¯æ—¥å‘¼å¸å™¨è©•ä¼°",category:"R",explanation:"å±¬æ–¼ Recommendation"}].map(u=>{var i;return{...u,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})},{question:"88 æ­²å¥³æ€§ï¼ŒDNRï¼Œä½é™¢ç¬¬åå¤©ï¼Œå·²ç”±å‘¼å¸å™¨è½‰ç‚ºæ°§æ°£é¼»ç®¡ã€‚è«‹å”åŠ©åˆ†é¡äº¤ç­è³‡è¨Šï¼š",items:[{text:"ç›®å‰ä½¿ç”¨æ°§æ°£é¼»ç®¡ 2 L/minï¼ŒSpO2 95%",category:"S",explanation:"ç›®å‰å‘¼å¸ç‹€æ…‹èˆ‡ç”Ÿå‘½å¾µè±¡ç‚º S"},{text:"DNRï¼Œè½‰å®‰å¯§æ²»ç™‚",category:"B",explanation:"ç—…äººæ²»ç™‚è¨ˆç•«èˆ‡èƒŒæ™¯ç‚º Background"},{text:"ç—…äººç”±å‘¼å¸å™¨æˆåŠŸæ‹”ç®¡ç¬¬ä¸‰å¤©",category:"A",explanation:"æ²»ç™‚è©•ä¼°èˆ‡æ­·ç¨‹ç‚º Assessment"},{text:"ç¹¼çºŒè§€å¯Ÿæ°§åˆç‹€æ³ï¼Œå¦‚æœ‰è®ŠåŒ–è¯çµ¡é†«å¸«",category:"R",explanation:"å¾ŒçºŒè¨ˆç•«èˆ‡æé†’ç‚º Recommendation"},{text:"å§“åï¼šé™³è€å¤ªå¤ªï¼ŒåºŠè™Ÿï¼š601-1",category:"I",explanation:"ä»‹ç´¹åŸºæœ¬è³‡æ–™ç‚º Introduction"}].map(u=>{var i;return{...u,id:((i=crypto.randomUUID)==null?void 0:i.call(crypto))||Math.random().toString()}})}],tt={class:"game-container"},et={class:"title"},at={class:"selection-zone"},ot={class:"item-list"},nt=["onClick"],st={class:"drop-zones"},lt={class:"zone-label"},it={class:"drop-content"},rt=["onClick"],ut=["onClick"],ct={key:0,class:"button-group"},dt={key:1,class:"button-group next-only"},vt={key:2,class:"finish-message"},xt={class:"submit-score"},mt=["disabled"],pt={key:3,class:"result-box"},gt={key:0},yt={key:1},ft={key:4,class:"error-message"},bt=$({__name:"ClassifyGame",setup(u){const i=e=>["I","S","B","A","R"].includes(e),B=N[0],M=N.slice(1).filter(e=>e.question!==B.question).map(e=>({question:e.question,items:e.items.filter(t=>i(t.category)).map(t=>({...t,category:t.category}))})).sort(()=>Math.random()-.5).slice(0,4),d=r([B,...M]),v=r(0),y=r(d.value[v.value]),f=r([...y.value.items]),x=r(null),p=r({I:[],S:[],B:[],A:[],R:[]}),h=r([]),A=r(!1),S=r(!1),I=r(0),g=r("");function T(e){var t;x.value=((t=x.value)==null?void 0:t.id)===e.id?null:e,g.value=""}function V(e){if(!x.value){g.value="è«‹å…ˆé¸æ“‡ä¸€å€‹é …ç›®å†é»æ“Šåˆ†é¡åŠ è™Ÿï¼";return}p.value[e].push(x.value),f.value=f.value.filter(t=>{var a;return t.id!==((a=x.value)==null?void 0:a.id)}),x.value=null}function z(e,t){const a=p.value[e].findIndex(n=>n.id===t);if(a!==-1){const[n]=p.value[e].splice(a,1);f.value.push(n)}}function F(){if(f.value.length>0){g.value="è«‹å®Œæˆæ‰€æœ‰é …ç›®çš„åˆ†é¡å¾Œå†é€å‡ºç­”æ¡ˆï¼";return}g.value="",h.value=[];let e=!0;for(const[t,a]of Object.entries(p.value))for(const n of a){const m=n.category===t;h.value.push({item:n,correct:m,correctCategory:n.category,explanation:n.explanation}),m||(e=!1)}e&&(I.value+=20),v.value<d.value.length-1?A.value=!0:S.value=!0}function P(){h.value=[],A.value=!1,g.value="",x.value=null,y.value=d.value[v.value],f.value=[...y.value.items],Object.keys(p.value).forEach(e=>p.value[e]=[])}function Q(){v.value++,v.value<d.value.length?(y.value=d.value[v.value],P()):S.value=!0}function j(){const e=M.sort(()=>Math.random()-.5).slice(0,4);d.value=[B,...e],v.value=0,y.value=d.value[0],S.value=!1,I.value=0,P()}async function G(e,t){try{await J(K(W,"classify_scores"),{name:e,score:t,timestamp:X()}),console.log("âœ… åˆ†æ•¸å·²å„²å­˜")}catch(a){console.error("âŒ éŒ¯èª¤:",a)}}const R=r(""),D=r(!1);async function L(){if(!R.value.trim()){alert("è«‹è¼¸å…¥åç¨±ä»¥é€å‡ºæˆç¸¾");return}await G(R.value.trim(),I.value),D.value=!0}return(e,t)=>(l(),s("div",tt,[o("h2",et,c(y.value.question),1),o("div",at,[t[1]||(t[1]=o("h3",{class:"subtitle"},"é»é¸äº¤ç­é …ç›®å¾Œï¼Œåœ¨ä¸‹æ–¹åˆ†é¡æ¬„ä½ä¸­é»é¸åŠ å…¥ä»¥é€²è¡Œåˆ†é¡ï¼Œæ¬²æ›´æ”¹æ¬„ä½ï¼Œå†é»é¸ä¸€æ¬¡è©²é …ç›®å³å¯é‡æ–°åŠ å…¥",-1)),o("div",ot,[(l(!0),s(k,null,C(f.value,(a,n)=>(l(),s("button",{key:a.id,class:"selectable-item",onClick:m=>T(a)},c(a.text),9,nt))),128))])]),o("div",st,[(l(!0),s(k,null,C(p.value,(a,n)=>(l(),s("div",{key:n,class:E(["drop-zone",{fullRow:n==="I"}])},[o("h4",lt,c(n),1),o("div",it,[(l(!0),s(k,null,C(a,(m,_t)=>(l(),s("div",{key:m.id,class:"drop-item",onClick:ht=>z(n,m.id)},c(m.text),9,rt))),128))]),x.value?(l(),s("button",{key:0,class:"add-button",onClick:m=>V(n)},"â• åŠ å…¥",8,ut)):b("",!0)],2))),128))]),!A.value&&!S.value?(l(),s("div",ct,[o("button",{onClick:F,class:"submit-button"},"é€å‡ºç­”æ¡ˆ"),o("button",{onClick:P,class:"reset-button"},"é‡è©¦")])):b("",!0),A.value&&v.value<d.value.length-1?(l(),s("div",dt,[o("button",{onClick:Q,class:"submit-button"},"ä¸‹ä¸€é¡Œ")])):b("",!0),S.value?(l(),s("div",vt,[t[6]||(t[6]=o("p",null,"ğŸ‰ å…¨éƒ¨é¡Œç›®å®Œæˆï¼",-1)),o("p",null,[t[2]||(t[2]=_("ä½ æœ¬æ¬¡å¾—åˆ†ç‚º ")),o("strong",null,c(I.value),1),t[3]||(t[3]=_(" / 100"))]),o("div",xt,[H(o("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>R.value=a),placeholder:"è«‹è¼¸å…¥ä½ çš„åç¨±",class:"name-input"},null,512),[[Z,R.value]]),o("button",{onClick:L,disabled:D.value,class:"submit-button"},c(D.value?"âœ… å·²é€å‡º":"ğŸ“¤ é€å‡ºæˆç¸¾"),9,mt)]),U(O(w),{to:"/isbar-game/",class:"home-button"},{default:q(()=>t[4]||(t[4]=[_("ğŸ  å›é¦–é ")])),_:1,__:[4]}),U(O(w),{to:"/leaderboard",class:"leaderboard-button"},{default:q(()=>t[5]||(t[5]=[_("ğŸ“Š æŸ¥çœ‹æ’è¡Œæ¦œ")])),_:1,__:[5]}),o("button",{onClick:j,class:"reset-button"},"é‡æ–°é–‹å§‹")])):b("",!0),h.value.length?(l(),s("div",pt,[t[8]||(t[8]=o("h3",null,"çµæœï¼š",-1)),o("ul",null,[(l(!0),s(k,null,C(h.value,(a,n)=>(l(),s("li",{key:n,class:E({correct:a.correct,incorrect:!a.correct})},[o("strong",null,c(a.item.text),1),a.correct?(l(),s("span",gt,"âœ… æ­£ç¢º")):(l(),s("span",yt,[t[7]||(t[7]=_(" âŒ éŒ¯èª¤ï¼Œæ­£ç¢ºç‚º ")),o("strong",null,c(a.correctCategory),1),_("ï¼š"+c(a.explanation),1)]))],2))),128))])])):b("",!0),g.value?(l(),s("div",ft,c(g.value),1)):b("",!0)]))}}),At=Y(bt,[["__scopeId","data-v-7b196aca"]]);export{At as default};
